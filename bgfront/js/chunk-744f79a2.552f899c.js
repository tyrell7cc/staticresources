(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-744f79a2"],{"21d7":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Note",{directives:[{name:"show",rawName:"v-show",value:!t.isMobile,expression:"!isMobile"}]}),n("NoteMobile",{directives:[{name:"show",rawName:"v-show",value:t.isMobile,expression:"isMobile"}]})],1)},o=[],r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"note"}},[n("Daohang"),n("div",{attrs:{id:"note-container"}},[n("div",{attrs:{id:"navi"}},[n("div",{staticClass:"nav-item"},[n("div",{staticClass:"nav-item-header",staticStyle:{"text-align":"center"},on:{click:t.clear}},[t._v("写便签+")])]),n("p",{staticClass:"nav-item",on:{click:t.getAll}},[t._v("All notes")]),n("div",[n("p",{staticClass:"nav-item"},[n("span",{on:{click:t.getFolders}},[t._v("Folders ")]),t._v(" "),n("span",{staticStyle:{color:"#d9d9d9"},on:{click:t.createFolder}},[t._v("+")])]),t._l(t.folders,(function(e,i){return n("ul",{directives:[{name:"show",rawName:"v-show",value:t.showFolders,expression:"showFolders"}],key:i},[n("li",[n("span",{staticClass:"nav-item",on:{click:function(n){return t.getNoteOfTag(e)}}},[t._v(t._s(e))]),t._v(" "),n("span",{on:{click:function(n){return t.delFolder(e)}}},[t._v("✘")])])])}))],2),n("p",{staticClass:"nav-item"},[t._v("Hidden notes")]),n("p",{staticClass:"nav-item",on:{click:function(e){return t.getNoteOfTag("已删除")}}},[t._v("Deleted notes")])]),n("div",{attrs:{id:"note-list"}},[n("div",{staticClass:"item-header"},[t._v("共"+t._s(t.allNote.length)+"条便签")]),t._l(t.allNote,(function(e){return[n("div",{key:e.id,staticClass:"list-item"},[n("p",{staticClass:"title",class:{actice:t.entity.id===e.id},on:{click:function(n){return t.edit(e)}}},[t._v(t._s(e.title))])])]}))],2),n("div",{attrs:{id:"note-content"}},[n("div",{attrs:{id:"content-header"}},[n("form",{attrs:{id:"titleandtag"}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:t.entity.folder,callback:function(e){t.$set(t.entity,"folder",e)},expression:"entity.folder"}},t._l(t.folders,(function(t,e){return n("el-option",{key:e,attrs:{label:t,value:t}})})),1),n("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.entity.title,callback:function(e){t.$set(t.entity,"title",e)},expression:"entity.title"}}),n("el-button-group",{attrs:{id:"bts"}},[n("el-button",{attrs:{type:"primary",icon:"el-icon-check",plain:""},on:{click:t.add}},[t._v("提交")]),n("el-button",{attrs:{type:"primary",icon:"el-icon-delete",plain:""},on:{click:t.del}},[t._v("删除")])],1)],1)]),n("Cedit",{staticStyle:{width:"100%","overflow-x":"hidden"},attrs:{"set-data":t.entity.content},on:{backData:t.abackData}})],1)])],1)},a=[],s=n("578d"),l=n("d9c0"),c={name:"Note",components:{Cedit:l["a"],Daohang:s["a"]},data:function(){return{entity:{id:0,title:"",content:"",folder:"默认"},allNote:[],showFolders:!1,folders:[]}},methods:{abackData:function(t){this.entity.content=t},clear:function(){this.entity.id=0,this.entity.title="",this.entity.content="",this.entity.folder=""},getAll:function(){var t=this;this.$axios.get("/note").then((function(e){var n=e.data;n.isok&&console.log("oooooooook"),t.allNote=n.data,console.dir(e)})).catch((function(t){console.dir(t)}))},add:function(){var t=this;this.$axios.post("/note",t.entity).then((function(e){var n=e.data;n.isok?(t.getAll(),t.clear(),console.log("oooooooook")):alert("添加失败")})).catch((function(t){alert("报错"),console.dir(t)}))},edit:function(t){console.dir(t),this.entity.id=t.id,this.entity.title=t.title,this.entity.content=t.content,this.entity.folder=t.folder},del:function(){var t=confirm("确认删除："+this.entity.title+"?");if(t){var e=this.entity.id,n=this.entity.folder,i=this;0!==e&&""!==e?this.$axios.delete("/note",{params:{id:e,tag:n}}).then((function(t){var e=t.data;e.isok&&(alert("删除成功"),i.getAll(),i.clear())})).catch((function(t){alert("删除失败"),console.dir(t)})):alert("fuck")}},getFolders:function(){if(this.showFolders=!this.showFolders,this.showFolders){var t=this;this.$axios.get("/note/allfolder").then((function(e){t.folders=e.data})).catch((function(t){console.dir(t)}))}},getNoteOfTag:function(t){var e=this;this.$axios.post("/note/oftag",{folder:t}).then((function(t){var n=t.data;e.allNote=n.data})).catch((function(t){console.dir(t)}))},createFolder:function(){var t=this,e=prompt("请输入folder");if(null!=e){if(-1!=this.folders.indexOf(e))return void alert("已存在！");this.$axios.post("/note/addfolder",{folder:e}).then((function(e){console.dir(e),t.getFolders()})).catch((function(t){console.dir(t)}))}},delFolder:function(t){if(t){var e=confirm("确认删除文件夹"+t+"?");if(e){var n=this;this.$axios.post("/note/delfolder",{folder:t}).then((function(t){console.dir(t),n.showFolders=!1})).catch((function(t){console.dir(t)}))}}}},mounted:function(){this.getFolders()}},d=c,u=(n("72c7"),n("2877")),f=Object(u["a"])(d,r,a,!1,null,"1c711868",null),h=f.exports,v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{attrs:{id:"menu-wrapper"}},[n("div",{staticClass:"menu-list"},[n("p",{on:{click:function(){t.showMenuList=!0}}},[t._v("便签")]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.showMenuList,expression:"showMenuList"}],attrs:{id:"bac"},on:{click:function(){return t.showMenuList=!1}}}),n("ul",{directives:[{name:"show",rawName:"v-show",value:t.showMenuList,expression:"showMenuList"}],attrs:{id:"list-wrapper"}},[n("p",[t._v("home")]),n("p",[t._v("all notes")]),n("p",[t._v("folder1")]),n("p",[t._v("folder2")]),n("p",[t._v("hidden")]),n("p",[t._v("deleted")])])]),n("div",{staticClass:"menu-list"},[n("p",[n("span",{on:{click:t.add}},[t._v("新加/修改")]),t._v(" "),n("span",{on:{click:t.back}},[t._v("撤回")])])])]),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.isEditor,expression:"!isEditor"}],attrs:{id:"content"}},[t._l(t.allNote,(function(e){return[n("p",{key:e.id,staticClass:"title",class:{actice:t.entity.id===e.id},on:{click:function(n){return t.edit(e)}}},[t._v(t._s(e.title))])]}))],2),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isEditor,expression:"isEditor"}],attrs:{id:"detail"}},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.entity.content,expression:"entity.content"}],domProps:{value:t.entity.content},on:{input:function(e){e.target.composing||t.$set(t.entity,"content",e.target.value)}}})])])},p=[],m={name:"NoteMobile",components:{},data:function(){return{isEditor:!1,showMenuList:!1,entity:{id:0,title:"",content:"",folder:"default"},allNote:[{id:"",title:"",content:"",folder:"default"}]}},methods:{back:function(){this.isEditor=!1,this.clear()},add:function(){if(this.isEditor){var t=this;if(this.entity.content){var e=this.entity.content.indexOf("\n");this.entity.title=this.entity.content.substr(0,e),this.$axios.post("/note",t.entity).then((function(e){var n=e.data;n.isok?(t.isEditor=!1,t.getAll(),t.clear(),console.log("oooooooook")):alert("添加失败")})).catch((function(t){alert("报错"),console.dir(t)}))}else alert("请输入内容！")}else this.isEditor=!0},getAll:function(){var t=this;this.$axios.get("/note").then((function(e){var n=e.data;n.isok&&console.log("oooooooook"),t.allNote=n.data,console.dir(e)})).catch((function(t){console.dir(t)}))},edit:function(t){console.dir(t),this.isEditor=!0,this.entity.id=t.id,this.entity.title=t.title,this.entity.content=t.content,this.entity.folder=t.folder},clear:function(){this.entity.id=0,this.entity.title="",this.entity.content="",this.entity.folder=""}},mounted:function(){this.getAll()}},y=m,b=(n("6272"),Object(u["a"])(y,v,p,!1,null,"e61110f8",null)),g=b.exports,w={name:"NoteBase",components:{NoteMobile:g,Note:h},data:function(){return{}},computed:{isMobile:function(){return window.screen.width<900}}},_=w,k=Object(u["a"])(_,i,o,!1,null,"3cdb9438",null);e["default"]=k.exports},"469b":function(t,e,n){},6272:function(t,e,n){"use strict";var i=n("469b"),o=n.n(i);o.a},6930:function(t,e,n){
/*!
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
!function(e,i){t.exports=i(n("2b0e"))}(window,(function(t){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=3)}([function(e,n){e.exports=t},function(t,e,n){"use strict";(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.a=n}).call(this,n(2))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";n.r(e);var i=n(0),o=n.n(i),r=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},a=n(1),s="object"==typeof self&&self&&self.Object===Object&&self,l=a.a||s||Function("return this")(),c=function(){return l.Date.now()},d=l.Symbol,u=Object.prototype,f=u.hasOwnProperty,h=u.toString,v=d?d.toStringTag:void 0,p=function(t){var e=f.call(t,v),n=t[v];try{t[v]=void 0;var i=!0}catch(t){}var o=h.call(t);return i&&(e?t[v]=n:delete t[v]),o},m=Object.prototype.toString,y=function(t){return m.call(t)},b=d?d.toStringTag:void 0,g=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":b&&b in Object(t)?p(t):y(t)},w=function(t){return null!=t&&"object"==typeof t},_=function(t){return"symbol"==typeof t||w(t)&&"[object Symbol]"==g(t)},k=/^\s+|\s+$/g,x=/^[-+]0x[0-9a-f]+$/i,$=/^0b[01]+$/i,N=/^0o[0-7]+$/i,O=parseInt,j=function(t){if("number"==typeof t)return t;if(_(t))return NaN;if(r(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=r(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(k,"");var n=$.test(t);return n||N.test(t)?O(t.slice(2),n?2:8):x.test(t)?NaN:+t},E=Math.max,C=Math.min,D=function(t,e,n){var i,o,a,s,l,d,u=0,f=!1,h=!1,v=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function p(e){var n=i,r=o;return i=o=void 0,u=e,s=t.apply(r,n)}function m(t){return u=t,l=setTimeout(b,e),f?p(t):s}function y(t){var n=t-d;return void 0===d||n>=e||n<0||h&&t-u>=a}function b(){var t=c();if(y(t))return g(t);l=setTimeout(b,function(t){var n=e-(t-d);return h?C(n,a-(t-u)):n}(t))}function g(t){return l=void 0,v&&i?p(t):(i=o=void 0,s)}function w(){var t=c(),n=y(t);if(i=arguments,o=this,d=t,n){if(void 0===l)return m(d);if(h)return clearTimeout(l),l=setTimeout(b,e),p(d)}return void 0===l&&(l=setTimeout(b,e)),s}return e=j(e)||0,r(n)&&(f=!!n.leading,a=(h="maxWait"in n)?E(j(n.maxWait)||0,e):a,v="trailing"in n?!!n.trailing:v),w.cancel=function(){void 0!==l&&clearTimeout(l),u=0,i=d=o=l=void 0},w.flush=function(){return void 0===l?s:g(c())},w},M={name:"ckeditor",render(t){return t(this.tagName)},props:{editor:{type:Function,default:null},value:{type:String,default:""},config:{type:Object,default:()=>({})},tagName:{type:String,default:"div"},disabled:{type:Boolean,default:!1}},data:()=>({$_instance:null,$_lastEditorData:{type:String,default:""}}),mounted(){const t=Object.assign({},this.config);this.value&&(t.initialData=this.value),this.editor.create(this.$el,t).then(t=>{this.$_instance=t,t.isReadOnly=this.disabled,this.$_setUpEditorEvents(),this.$emit("ready",t)}).catch(t=>{console.error(t)})},beforeDestroy(){this.$_instance&&(this.$_instance.destroy(),this.$_instance=null),this.$emit("destroy",this.$_instance)},watch:{value(t,e){t!==e&&t!==this.$_lastEditorData&&this.$_instance.setData(t)},disabled(t){this.$_instance.isReadOnly=t}},methods:{$_setUpEditorEvents(){const t=this.$_instance,e=D(e=>{const n=this.$_lastEditorData=t.getData();this.$emit("input",n,e,t)},300,{leading:!0});t.model.document.on("change:data",e),t.editing.view.document.on("focus",e=>{this.$emit("focus",e,t)}),t.editing.view.document.on("blur",e=>{this.$emit("blur",e,t)})}}};const F=o.a?o.a.version:i.version,[S]=F.split(".").map(t=>parseInt(t,10));if(2!==S)throw new Error("The CKEditor plugin works only with Vue 2.x. For more information, please refer to https://ckeditor.com/docs/ckeditor5/latest/builds/guides/integration/frameworks/vuejs-v2.html");const T={install(t){t.component("ckeditor",M)},component:M};e.default=T}]).default}))},"72c7":function(t,e,n){"use strict";var i=n("ef8e"),o=n.n(i);o.a},d9c0:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("ckeditor",{attrs:{editor:t.editor,config:t.editorConfig},model:{value:t.editorData,callback:function(e){t.editorData=e},expression:"editorData"}})],1)},o=[],r=n("6930"),a=n.n(r),s={name:"Cedit",components:{ckeditor:a.a.component},data:function(){return{editor:this.editor,editorData:"<p>Content of the editor.</p>",editorConfig:{toolbar:{items:["heading","|","bold","underline","italic","highlight","fontColor","fontSize","link","bulletedList","numberedList","todoList","code","codeBlock","horizontalLine","|","|","imageInsert","insertTable","undo","redo","imageUpload"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]}}}},props:{setData:String},methods:{},watch:{editorData:function(t){this.$emit("backData",t)},setData:function(t){this.editorData=t}}},l=s,c=n("2877"),d=Object(c["a"])(l,i,o,!1,null,"0883d1cc",null);e["a"]=d.exports},ef8e:function(t,e,n){}}]);