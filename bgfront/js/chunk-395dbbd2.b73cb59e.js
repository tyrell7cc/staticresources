(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-395dbbd2"],{"21d7":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("Note",{directives:[{name:"show",rawName:"v-show",value:!t.isMobile,expression:"!isMobile"}]}),i("NoteMobile",{directives:[{name:"show",rawName:"v-show",value:t.isMobile,expression:"isMobile"}]})],1)},o=[],s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"note"}},[i("Daohang"),i("div",{attrs:{id:"note-container"}},[i("div",{attrs:{id:"navi"}},[i("div",{staticClass:"nav-item"},[i("div",{staticClass:"nav-item-header",staticStyle:{"text-align":"center"},on:{click:t.clear}},[t._v("写便签+")])]),i("p",{staticClass:"nav-item",on:{click:t.getAll}},[t._v("All notes")]),i("div",[i("p",{staticClass:"nav-item"},[i("span",{on:{click:t.getFolders}},[t._v("Folders ")]),t._v(" "),i("span",{staticStyle:{color:"#d9d9d9"},on:{click:t.createFolder}},[t._v("+")])]),t._l(t.folders,(function(e,n){return i("ul",{directives:[{name:"show",rawName:"v-show",value:t.showFolders,expression:"showFolders"}],key:n},[i("li",[i("span",{staticClass:"nav-item",on:{click:function(i){return t.getNoteOfTag(e)}}},[t._v(t._s(e))]),t._v(" "),i("span",{on:{click:function(i){return t.delFolder(e)}}},[t._v("✘")])])])}))],2),i("p",{staticClass:"nav-item"},[t._v("Hidden notes")]),i("p",{staticClass:"nav-item",on:{click:function(e){return t.getNoteOfTag("已删除")}}},[t._v("Deleted notes")])]),i("div",{attrs:{id:"note-list"}},[i("div",{staticClass:"item-header"},[t._v("共"+t._s(t.allNote.length)+"条便签")]),t._l(t.allNote,(function(e){return[i("div",{key:e.id,staticClass:"list-item"},[i("p",{staticClass:"title",class:{actice:t.entity.id===e.id},on:{click:function(i){return t.edit(e)}}},[t._v(t._s(e.title))])])]}))],2),i("div",{attrs:{id:"note-content"}},[i("div",{attrs:{id:"content-header"}},[i("div",{attrs:{id:"titleandtag"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.entity.folder,expression:"entity.folder"}],attrs:{placeholder:"folder"},domProps:{value:t.entity.folder},on:{input:function(e){e.target.composing||t.$set(t.entity,"folder",e.target.value)}}}),i("input",{directives:[{name:"model",rawName:"v-model",value:t.entity.title,expression:"entity.title"}],attrs:{placeholder:"title"},domProps:{value:t.entity.title},on:{input:function(e){e.target.composing||t.$set(t.entity,"title",e.target.value)}}})]),i("div",{attrs:{id:"bts"}},[i("button",{on:{click:t.add}},[t._v("提交")]),i("button",{on:{click:t.del}},[t._v("删除")])])]),i("Cedit",{staticStyle:{width:"100%","overflow-x":"hidden"},attrs:{"set-data":t.entity.content},on:{backData:t.abackData}})],1)])],1)},a=[],l=i("578d"),r=i("d9c0"),c={name:"Note",components:{Cedit:r["a"],Daohang:l["a"]},data:function(){return{entity:{id:0,title:"",content:"",folder:"默认"},allNote:[],showFolders:!1,folders:[String]}},methods:{abackData:function(t){this.entity.content=t},clear:function(){this.entity.id=0,this.entity.title="",this.entity.content="",this.entity.folder=""},getAll:function(){var t=this;this.$axios.get("/note").then((function(e){var i=e.data;i.isok&&console.log("oooooooook"),t.allNote=i.data,console.dir(e)})).catch((function(t){console.dir(t)}))},add:function(){var t=this;this.$axios.post("/note",t.entity).then((function(e){var i=e.data;i.isok?(t.getAll(),t.clear(),console.log("oooooooook")):alert("添加失败")})).catch((function(t){alert("报错"),console.dir(t)}))},edit:function(t){console.dir(t),this.entity.id=t.id,this.entity.title=t.title,this.entity.content=t.content,this.entity.folder=t.folder},del:function(){var t=confirm("确认删除："+this.entity.title+"?");if(t){var e=this.entity.id,i=this.entity.folder,n=this;0!==e&&""!==e?this.$axios.delete("/note",{params:{id:e,tag:i}}).then((function(t){var e=t.data;e.isok&&(alert("删除成功"),n.getAll(),n.clear())})).catch((function(t){alert("删除失败"),console.dir(t)})):alert("fuck")}},getFolders:function(){if(this.showFolders=!this.showFolders,this.showFolders){var t=this;this.$axios.get("/note/allfolder").then((function(e){t.folders=e.data})).catch((function(t){console.dir(t)}))}},getNoteOfTag:function(t){var e=this;this.$axios.post("/note/oftag",{folder:t}).then((function(t){var i=t.data;e.allNote=i.data})).catch((function(t){console.dir(t)}))},createFolder:function(){var t=this,e=prompt("请输入folder");if(null!=e){if(-1!=this.folders.indexOf(e))return void alert("已存在！");this.$axios.post("/note/addfolder",{folder:e}).then((function(e){console.dir(e),t.getFolders()})).catch((function(t){console.dir(t)}))}},delFolder:function(t){if(t){var e=confirm("确认删除文件夹"+t+"?");if(e){var i=this;this.$axios.post("/note/delfolder",{folder:t}).then((function(t){console.dir(t),i.showFolders=!1})).catch((function(t){console.dir(t)}))}}}}},d=c,u=(i("a39a"),i("2877")),h=Object(u["a"])(d,s,a,!1,null,"e7deebec",null),v=h.exports,f=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{attrs:{id:"menu-wrapper"}},[i("div",{staticClass:"menu-list"},[i("p",{on:{click:function(){t.showMenuList=!0}}},[t._v("便签")]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showMenuList,expression:"showMenuList"}],attrs:{id:"bac"},on:{click:function(){return t.showMenuList=!1}}}),i("ul",{directives:[{name:"show",rawName:"v-show",value:t.showMenuList,expression:"showMenuList"}],attrs:{id:"list-wrapper"}},[i("p",[t._v("home")]),i("p",[t._v("all notes")]),i("p",[t._v("folder1")]),i("p",[t._v("folder2")]),i("p",[t._v("hidden")]),i("p",[t._v("deleted")])])]),i("div",{staticClass:"menu-list"},[i("p",[i("span",{on:{click:t.add}},[t._v("新加/修改")]),t._v(" "),i("span",{on:{click:t.back}},[t._v("撤回")])])])]),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.isEditor,expression:"!isEditor"}],attrs:{id:"content"}},[t._l(t.allNote,(function(e){return[i("p",{key:e.id,staticClass:"title",class:{actice:t.entity.id===e.id},on:{click:function(i){return t.edit(e)}}},[t._v(t._s(e.title))])]}))],2),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isEditor,expression:"isEditor"}],attrs:{id:"detail"}},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.entity.content,expression:"entity.content"}],domProps:{value:t.entity.content},on:{input:function(e){e.target.composing||t.$set(t.entity,"content",e.target.value)}}})])])},p=[],m={name:"NoteMobile",components:{},data:function(){return{isEditor:!1,showMenuList:!1,entity:{id:0,title:"",content:"",folder:"default"},allNote:[{id:"",title:"",content:"",folder:"default"}]}},methods:{back:function(){this.isEditor=!1,this.clear()},add:function(){if(this.isEditor){var t=this;if(this.entity.content){var e=this.entity.content.indexOf("\n");this.entity.title=this.entity.content.substr(0,e),this.$axios.post("/note",t.entity).then((function(e){var i=e.data;i.isok?(t.isEditor=!1,t.getAll(),t.clear(),console.log("oooooooook")):alert("添加失败")})).catch((function(t){alert("报错"),console.dir(t)}))}else alert("请输入内容！")}else this.isEditor=!0},getAll:function(){var t=this;this.$axios.get("/note").then((function(e){var i=e.data;i.isok&&console.log("oooooooook"),t.allNote=i.data,console.dir(e)})).catch((function(t){console.dir(t)}))},edit:function(t){console.dir(t),this.isEditor=!0,this.entity.id=t.id,this.entity.title=t.title,this.entity.content=t.content,this.entity.folder=t.folder},clear:function(){this.entity.id=0,this.entity.title="",this.entity.content="",this.entity.folder=""}},mounted:function(){this.getAll()}},w=m,y=(i("6272"),Object(u["a"])(w,f,p,!1,null,"e61110f8",null)),g=y.exports,_={name:"NoteBase",components:{NoteMobile:g,Note:v},data:function(){return{}},computed:{isMobile:function(){return window.screen.width<900}}},k=_,b=Object(u["a"])(k,n,o,!1,null,"3cdb9438",null);e["default"]=b.exports},"3dd7":function(t,e,i){},"469b":function(t,e,i){},6272:function(t,e,i){"use strict";var n=i("469b"),o=i.n(n);o.a},a39a:function(t,e,i){"use strict";var n=i("3dd7"),o=i.n(n);o.a}}]);