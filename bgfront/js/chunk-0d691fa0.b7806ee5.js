(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0d691fa0"],{"21d7":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("Note",{directives:[{name:"show",rawName:"v-show",value:!t.isMobile,expression:"!isMobile"}]}),i("NoteMobile",{directives:[{name:"show",rawName:"v-show",value:t.isMobile,expression:"isMobile"}]})],1)},o=[],a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"note"}},[i("Daohang"),i("div",{attrs:{id:"note-container"}},[i("div",{attrs:{id:"navi"}},[i("div",{staticClass:"nav-item"},[i("div",{staticClass:"nav-item-header",staticStyle:{"text-align":"center"},on:{click:t.clear}},[t._v("写便签+")])]),i("p",{staticClass:"nav-item",on:{click:t.getAll}},[t._v("All notes")]),i("div",[i("p",{staticClass:"nav-item"},[i("span",{on:{click:t.getFolders}},[t._v("Folders ")]),t._v(" "),i("span",{staticStyle:{color:"#d9d9d9"},on:{click:t.createFolder}},[t._v("+")])]),t._l(t.folders,(function(e,n){return i("ul",{directives:[{name:"show",rawName:"v-show",value:t.showFolders,expression:"showFolders"}],key:n},[i("li",[i("span",{staticClass:"nav-item",on:{click:function(i){return t.getNoteOfTag(e)}}},[t._v(t._s(e))]),t._v(" "),i("span",{on:{click:function(i){return t.delFolder(e)}}},[t._v("✘")])])])}))],2),i("p",{staticClass:"nav-item"},[t._v("Hidden notes")]),i("p",{staticClass:"nav-item",on:{click:function(e){return t.getNoteOfTag("已删除")}}},[t._v("Deleted notes")])]),i("div",{attrs:{id:"note-list"}},[i("div",{staticClass:"item-header"},[t._v("共"+t._s(t.allNote.length)+"条便签")]),t._l(t.allNote,(function(e){return[i("div",{key:e.id,staticClass:"list-item"},[i("p",{staticClass:"title",class:{actice:t.entity.id===e.id},on:{click:function(i){return t.edit(e)}}},[t._v(t._s(e.title))])])]}))],2),i("div",{attrs:{id:"note-content"}},[i("div",{attrs:{id:"content-header"}},[i("div",{attrs:{id:"titleandtag"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.entity.folder,expression:"entity.folder"}],attrs:{placeholder:"folder"},domProps:{value:t.entity.folder},on:{input:function(e){e.target.composing||t.$set(t.entity,"folder",e.target.value)}}}),i("input",{directives:[{name:"model",rawName:"v-model",value:t.entity.title,expression:"entity.title"}],attrs:{placeholder:"title"},domProps:{value:t.entity.title},on:{input:function(e){e.target.composing||t.$set(t.entity,"title",e.target.value)}}})]),i("div",{attrs:{id:"bts"}},[i("button",{on:{click:t.add}},[t._v("提交")]),i("button",{on:{click:t.del}},[t._v("删除")])])]),i("Cedit",{staticStyle:{width:"100%","overflow-x":"hidden"},attrs:{"set-data":t.entity.content},on:{backData:t.abackData}})],1)])],1)},r=[],s=i("578d"),l=i("d9c0"),c={name:"Note",components:{Cedit:l["a"],Daohang:s["a"]},data:function(){return{entity:{id:0,title:"",content:"",folder:"默认"},allNote:[],showFolders:!1,folders:[String]}},methods:{abackData:function(t){this.entity.content=t},clear:function(){this.entity.id=0,this.entity.title="",this.entity.content="",this.entity.folder=""},getAll:function(){var t=this;this.$axios.get("/note").then((function(e){var i=e.data;i.isok&&console.log("oooooooook"),t.allNote=i.data,console.dir(e)})).catch((function(t){console.dir(t)}))},add:function(){var t=this;this.$axios.post("/note",t.entity).then((function(e){var i=e.data;i.isok?(t.getAll(),t.clear(),console.log("oooooooook")):alert("添加失败")})).catch((function(t){alert("报错"),console.dir(t)}))},edit:function(t){console.dir(t),this.entity.id=t.id,this.entity.title=t.title,this.entity.content=t.content,this.entity.folder=t.folder},del:function(){var t=confirm("确认删除："+this.entity.title+"?");if(t){var e=this.entity.id,i=this.entity.folder,n=this;0!==e&&""!==e?this.$axios.delete("/note",{params:{id:e,tag:i}}).then((function(t){var e=t.data;e.isok&&(alert("删除成功"),n.getAll(),n.clear())})).catch((function(t){alert("删除失败"),console.dir(t)})):alert("fuck")}},getFolders:function(){if(this.showFolders=!this.showFolders,this.showFolders){var t=this;this.$axios.get("/note/allfolder").then((function(e){t.folders=e.data})).catch((function(t){console.dir(t)}))}},getNoteOfTag:function(t){var e=this;this.$axios.post("/note/oftag",{folder:t}).then((function(t){var i=t.data;e.allNote=i.data})).catch((function(t){console.dir(t)}))},createFolder:function(){var t=this,e=prompt("请输入folder");if(null!=e){if(-1!=this.folders.indexOf(e))return void alert("已存在！");this.$axios.post("/note/addfolder",{folder:e}).then((function(e){console.dir(e),t.getFolders()})).catch((function(t){console.dir(t)}))}},delFolder:function(t){if(t){var e=confirm("确认删除文件夹"+t+"?");if(e){var i=this;this.$axios.post("/note/delfolder",{folder:t}).then((function(t){console.dir(t),i.showFolders=!1})).catch((function(t){console.dir(t)}))}}}}},d=c,u=(i("a39a"),i("2877")),f=Object(u["a"])(d,a,r,!1,null,"e7deebec",null),h=f.exports,v=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{attrs:{id:"menu-wrapper"}},[i("div",{staticClass:"menu-list"},[i("p",{on:{click:function(){t.showMenuList=!0}}},[t._v("便签")]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showMenuList,expression:"showMenuList"}],attrs:{id:"bac"},on:{click:function(){return t.showMenuList=!1}}}),i("ul",{directives:[{name:"show",rawName:"v-show",value:t.showMenuList,expression:"showMenuList"}],attrs:{id:"list-wrapper"}},[i("p",[t._v("home")]),i("p",[t._v("all notes")]),i("p",[t._v("folder1")]),i("p",[t._v("folder2")]),i("p",[t._v("hidden")]),i("p",[t._v("deleted")])])]),i("div",{staticClass:"menu-list"},[i("p",[i("span",{on:{click:t.add}},[t._v("新加/修改")]),t._v(" "),i("span",{on:{click:t.back}},[t._v("撤回")])])])]),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.isEditor,expression:"!isEditor"}],attrs:{id:"content"}},[t._l(t.allNote,(function(e){return[i("p",{key:e.id,staticClass:"title",class:{actice:t.entity.id===e.id},on:{click:function(i){return t.edit(e)}}},[t._v(t._s(e.title))])]}))],2),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isEditor,expression:"isEditor"}],attrs:{id:"detail"}},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.entity.content,expression:"entity.content"}],domProps:{value:t.entity.content},on:{input:function(e){e.target.composing||t.$set(t.entity,"content",e.target.value)}}})])])},p=[],m={name:"NoteMobile",components:{},data:function(){return{isEditor:!1,showMenuList:!1,entity:{id:0,title:"",content:"",folder:"default"},allNote:[{id:"",title:"",content:"",folder:"default"}]}},methods:{back:function(){this.isEditor=!1,this.clear()},add:function(){if(this.isEditor){var t=this;if(this.entity.content){var e=this.entity.content.indexOf("\n");this.entity.title=this.entity.content.substr(0,e),this.$axios.post("/note",t.entity).then((function(e){var i=e.data;i.isok?(t.isEditor=!1,t.getAll(),t.clear(),console.log("oooooooook")):alert("添加失败")})).catch((function(t){alert("报错"),console.dir(t)}))}else alert("请输入内容！")}else this.isEditor=!0},getAll:function(){var t=this;this.$axios.get("/note").then((function(e){var i=e.data;i.isok&&console.log("oooooooook"),t.allNote=i.data,console.dir(e)})).catch((function(t){console.dir(t)}))},edit:function(t){console.dir(t),this.isEditor=!0,this.entity.id=t.id,this.entity.title=t.title,this.entity.content=t.content,this.entity.folder=t.folder},clear:function(){this.entity.id=0,this.entity.title="",this.entity.content="",this.entity.folder=""}},mounted:function(){this.getAll()}},y=m,b=(i("6272"),Object(u["a"])(y,v,p,!1,null,"e61110f8",null)),g=b.exports,w={name:"NoteBase",components:{NoteMobile:g,Note:h},data:function(){return{}},computed:{isMobile:function(){return window.screen.width<900}}},_=w,k=Object(u["a"])(_,n,o,!1,null,"3cdb9438",null);e["default"]=k.exports},"3dd7":function(t,e,i){},"469b":function(t,e,i){},6272:function(t,e,i){"use strict";var n=i("469b"),o=i.n(n);o.a},6930:function(t,e,i){
/*!
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
!function(e,n){t.exports=n(i("2b0e"))}(window,(function(t){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=3)}([function(e,i){e.exports=t},function(t,e,i){"use strict";(function(t){var i="object"==typeof t&&t&&t.Object===Object&&t;e.a=i}).call(this,i(2))},function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e,i){"use strict";i.r(e);var n=i(0),o=i.n(n),a=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},r=i(1),s="object"==typeof self&&self&&self.Object===Object&&self,l=r.a||s||Function("return this")(),c=function(){return l.Date.now()},d=l.Symbol,u=Object.prototype,f=u.hasOwnProperty,h=u.toString,v=d?d.toStringTag:void 0,p=function(t){var e=f.call(t,v),i=t[v];try{t[v]=void 0;var n=!0}catch(t){}var o=h.call(t);return n&&(e?t[v]=i:delete t[v]),o},m=Object.prototype.toString,y=function(t){return m.call(t)},b=d?d.toStringTag:void 0,g=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":b&&b in Object(t)?p(t):y(t)},w=function(t){return null!=t&&"object"==typeof t},_=function(t){return"symbol"==typeof t||w(t)&&"[object Symbol]"==g(t)},k=/^\s+|\s+$/g,x=/^[-+]0x[0-9a-f]+$/i,$=/^0b[01]+$/i,N=/^0o[0-7]+$/i,O=parseInt,j=function(t){if("number"==typeof t)return t;if(_(t))return NaN;if(a(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=a(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(k,"");var i=$.test(t);return i||N.test(t)?O(t.slice(2),i?2:8):x.test(t)?NaN:+t},E=Math.max,C=Math.min,D=function(t,e,i){var n,o,r,s,l,d,u=0,f=!1,h=!1,v=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function p(e){var i=n,a=o;return n=o=void 0,u=e,s=t.apply(a,i)}function m(t){return u=t,l=setTimeout(b,e),f?p(t):s}function y(t){var i=t-d;return void 0===d||i>=e||i<0||h&&t-u>=r}function b(){var t=c();if(y(t))return g(t);l=setTimeout(b,function(t){var i=e-(t-d);return h?C(i,r-(t-u)):i}(t))}function g(t){return l=void 0,v&&n?p(t):(n=o=void 0,s)}function w(){var t=c(),i=y(t);if(n=arguments,o=this,d=t,i){if(void 0===l)return m(d);if(h)return clearTimeout(l),l=setTimeout(b,e),p(d)}return void 0===l&&(l=setTimeout(b,e)),s}return e=j(e)||0,a(i)&&(f=!!i.leading,r=(h="maxWait"in i)?E(j(i.maxWait)||0,e):r,v="trailing"in i?!!i.trailing:v),w.cancel=function(){void 0!==l&&clearTimeout(l),u=0,n=d=o=l=void 0},w.flush=function(){return void 0===l?s:g(c())},w},M={name:"ckeditor",render(t){return t(this.tagName)},props:{editor:{type:Function,default:null},value:{type:String,default:""},config:{type:Object,default:()=>({})},tagName:{type:String,default:"div"},disabled:{type:Boolean,default:!1}},data:()=>({$_instance:null,$_lastEditorData:{type:String,default:""}}),mounted(){const t=Object.assign({},this.config);this.value&&(t.initialData=this.value),this.editor.create(this.$el,t).then(t=>{this.$_instance=t,t.isReadOnly=this.disabled,this.$_setUpEditorEvents(),this.$emit("ready",t)}).catch(t=>{console.error(t)})},beforeDestroy(){this.$_instance&&(this.$_instance.destroy(),this.$_instance=null),this.$emit("destroy",this.$_instance)},watch:{value(t,e){t!==e&&t!==this.$_lastEditorData&&this.$_instance.setData(t)},disabled(t){this.$_instance.isReadOnly=t}},methods:{$_setUpEditorEvents(){const t=this.$_instance,e=D(e=>{const i=this.$_lastEditorData=t.getData();this.$emit("input",i,e,t)},300,{leading:!0});t.model.document.on("change:data",e),t.editing.view.document.on("focus",e=>{this.$emit("focus",e,t)}),t.editing.view.document.on("blur",e=>{this.$emit("blur",e,t)})}}};const S=o.a?o.a.version:n.version,[F]=S.split(".").map(t=>parseInt(t,10));if(2!==F)throw new Error("The CKEditor plugin works only with Vue 2.x. For more information, please refer to https://ckeditor.com/docs/ckeditor5/latest/builds/guides/integration/frameworks/vuejs-v2.html");const T={install(t){t.component("ckeditor",M)},component:M};e.default=T}]).default}))},a39a:function(t,e,i){"use strict";var n=i("3dd7"),o=i.n(n);o.a},d9c0:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("p"),i("ckeditor",{attrs:{editor:t.editor,config:t.editorConfig},model:{value:t.editorData,callback:function(e){t.editorData=e},expression:"editorData"}})],1)},o=[],a=i("6930"),r=i.n(a),s={name:"Cedit",components:{ckeditor:r.a.component},data:function(){return{editor:this.editor,editorData:"<p>Content of the editor.</p>",editorConfig:{toolbar:{items:["heading","|","bold","underline","italic","highlight","fontColor","fontSize","link","bulletedList","numberedList","todoList","code","codeBlock","horizontalLine","|","|","imageInsert","insertTable","undo","redo","imageUpload"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]}}}},props:{setData:String},methods:{},watch:{editorData:function(t){this.$emit("backData",t)},setData:function(t){this.editorData=t}}},l=s,c=i("2877"),d=Object(c["a"])(l,n,o,!1,null,"8fa9ec2a",null);e["a"]=d.exports}}]);